<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>

<style>
#box {
	width: 100px;
	height: 100px;
	border-radius: 50%;
	background: red;
	position: absolute;
	left: 100px;
	top: 100px;
}	
	
</style>

	</head>
	<body>
		<div id="box"></div>
	</body>	


<script>
var oBox = document.getElementById("box");

function move(){
	

sarteMove(oBox,"left",400,function(){
	sarteMove(oBox,"top",400,function(){
		sarteMove(oBox,"left",100,function(){
			sarteMove(oBox,"top",100,function(){
				move();
	})})})})
}  move();
     function sarteMove(oBox,attr,itarge,fn){
     	  clearInterval(oBox.timer)
     	  oBox.timer = setInterval(function(){
     	  	
     	  	var current = parseInt(getStyle(oBox,attr));
     	  	
     	  	var speed = (itarge>current)?10:-10;
     	  	
     	  	if(current ==itarge){
     	  		clearInterval(oBox.timer);
     	  		fn&&fn();
     	       return;
     	  	}
     	  	
     	  	oBox.style[attr] =current + speed +"px";
     	 
     	  },50)
     }
     
     function getStyle(oBox,attr){
     	if(window.getComputedStyle){
     		return getComputedStyle(oBox)[attr];
     	}else {
     		return oBox.currentStyle[attr];
     	}
     }
     
</script>
	
</html>
